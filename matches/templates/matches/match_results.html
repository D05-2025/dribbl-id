{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>Hasil Pertandingan | DRIBBL.ID</title>
{% endblock meta %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold text-gray-900 mb-6 text-center">🏆 Hasil Pertandingan</h1>

  <!-- Form Pencarian -->
  <form method="get" class="flex flex-wrap items-center gap-3 mb-6">
    <input type="text" name="q" value="{{ q }}" placeholder="Cari tim atau venue..."
           class="flex-1 min-w-[200px] px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none"
    />
    <button type="submit"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition">
      Cari
    </button>
    <a href="{% url 'matches:schedule' %}"
       class="text-sm text-gray-600 hover:text-gray-800 transition">
      ← Kembali ke Jadwal
    </a>
  </form>

  <!-- Daftar Hasil -->
  {% if matches %}
  <ul class="divide-y divide-gray-200 bg-white/90 backdrop-blur-md rounded-lg shadow border border-gray-200">
    {% for m in matches %}
    <li class="p-4 hover:bg-gray-50 transition">
      <a href="{% url 'matches:detail' m.pk %}" class="font-semibold text-blue-700 hover:underline">
        {{ m.home_team }} {{ m.home_score }}–{{ m.away_score }} {{ m.away_team }}
      </a>
      <p class="text-sm text-gray-600 mt-1">
        📅 {{ m.tipoff_at|date:"M d, Y" }} • {{ m.tipoff_at|time:"H:i" }} @ {{ m.venue }}
        {% if m.went_to_ot %}<span class="text-xs font-semibold text-orange-600 ml-1">(OT)</span>{% endif %}
      </p>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p class="text-center text-gray-500 italic mt-6">Belum ada hasil pertandingan.</p>
  {% endif %}
</div>
{% endblock content %}
